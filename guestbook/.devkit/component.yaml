# yaml-language-server: $schema=https://gist.githubusercontent.com/bcho/e19fa748745a985aa7393530acff24fa/raw/c7a653834a117405c3dfbcd60cccc94949d3ef3f/forge-devkit-component.json
apiVersion: v1alpha1
kind: Component
metadata:
  name: guestbook
profiles:
  - name: default
    kubernetes:
      pod:
        name: guestbook
        mainEntryContainerImage: forgedev.azurecr.io/devkit-containers/go:v2022092002
        mainEntryContainer: manager
      patches:
        - clonePod:
            selector:
              matchLabels:
                control-plane: controller-manager
            useContainer: manager
        - patchesStrategicMerge:
            - ./pod-spec.yaml
